{
  "categories": [
    {
      "id": "category_23b3a057",
      "name": "Telebot - Управление",
      "color": "#8FBC8F",
      "collapsed": true,
      "blocks": [
        {
          "id": "block_5cc5d123",
          "name": "Инициализировать telebot",
          "type": "action",
          "color": "#8FBC8F",
          "code": "import telebot\nfrom telebot import types\nimport os\n\nbot = telebot.TeleBot('{token}')\n\n",
          "fields": [
            {
              "name": "token",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "bot token"
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_4458c56b",
          "name": "Запустить бота",
          "type": "action",
          "color": "#8FBC8F",
          "code": "try:\n    bot.polling(none_stop=True, interval=0, timeout=20)\nexcept Exception as e:\n    print(f\"Ошибка: {e}\")\n",
          "fields": [],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_e34fa5bf",
          "name": "Получить username пользователя",
          "type": "action",
          "color": "#8FBC8F",
          "code": "{output} = message.from_user.username if message.from_user.username else None\n",
          "fields": [
            {
              "name": "output",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "output"
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_25915ea2",
          "name": "Получить name пользователя",
          "type": "action",
          "color": "#8FBC8F",
          "code": "{output} = message.from_user.first_name if message.from_user.first_name else \"Пользователь\"\n",
          "fields": [
            {
              "name": "output",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "output"
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_a45bbed5",
          "name": "Получить id пользователя",
          "type": "action",
          "color": "#8FBC8F",
          "code": "{output} = message.from_user.id\n",
          "fields": [
            {
              "name": "output",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "output"
            }
          ],
          "width": 180,
          "height": 80
        }
      ]
    },
    {
      "id": "category_b9e75793",
      "name": "Telebot - Слушатель",
      "color": "#8FBC8F",
      "collapsed": true,
      "blocks": [
        {
          "id": "block_e77e3a15",
          "name": "Объявить слушателя",
          "type": "loop",
          "color": "#8FBC8F",
          "code": "@bot.message_handler(content_types=['text'])\ndef handle_text_message(message):\n",
          "fields": [],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_a79b4f57",
          "name": "Сравнить сообщение от слушателя",
          "type": "condition",
          "color": "#8FBC8F",
          "code": "if message.text and message.text.strip() == {content}:\n",
          "fields": [
            {
              "name": "content",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "\"content\""
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_01441389",
          "name": "Отправить сообщение",
          "type": "action",
          "color": "#8FBC8F",
          "code": "try:\n    bot.send_message(chat_id=message.chat.id, text={message}, parse_mode='HTML')\nexcept Exception as e:\n    print(f\"Ошибка отправки: {e}\")\n",
          "fields": [
            {
              "name": "message",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "\"message\""
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_0073e2ed",
          "name": "Ответить на сообщение пользователя",
          "type": "action",
          "color": "#8FBC8F",
          "code": "try:\n    bot.reply_to(message, {message}, parse_mode='HTML')\nexcept Exception as e:\n    print(f\"Ошибка ответа: {e}\")\n",
          "fields": [
            {
              "name": "message",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "\"message\""
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_b4c887d8",
          "name": "Создать шаг",
          "type": "loop",
          "color": "#8FBC8F",
          "code": "def {step}(message):\n    try:\n        {value} = message.text if message.text else \"\"\n    except Exception as e:\n        {value} = \"\"\n        print(f\"Ошибка: {e}\")\n",
          "fields": [
            {
              "name": "step",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "step name"
            },
            {
              "name": "value",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "output value"
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_784a6c8c",
          "name": "Перейти к шагу",
          "type": "action",
          "color": "#8FBC8F",
          "code": "try:\n    bot.register_next_step_handler(message, {step})\nexcept Exception as e:\n    print(f\"Ошибка регистрации шага: {e}\")\n",
          "fields": [
            {
              "name": "step",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "step"
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_64544d3b",
          "name": "Отправить фото",
          "type": "action",
          "color": "#8FBC8F",
          "code": "try:\n    with open({path}, 'rb') as photo_file:\n        bot.send_photo(chat_id=message.chat.id, photo=photo_file, caption={text}, parse_mode='HTML')\nexcept FileNotFoundError:\n    bot.send_message(message.chat.id, \"Файл не найден\")\nexcept Exception as e:\n    bot.send_message(message.chat.id, f\"Ошибка отправки фото: {e}\")\n",
          "fields": [
            {
              "name": "text",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "\"destription\""
            },
            {
              "name": "path",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "\"path\""
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_9a8b7c6d",
          "name": "Отправить изображение",
          "type": "action",
          "color": "#8FBC8F",
          "code": "try:\n    with open({path}, 'rb') as image_file:\n        bot.send_photo(chat_id=message.chat.id, photo=image_file, caption={text}, parse_mode='HTML')\nexcept FileNotFoundError:\n    bot.send_message(message.chat.id, \"Изображение не найдено\")\nexcept Exception as e:\n    bot.send_message(message.chat.id, f\"Ошибка отправки изображения: {e}\")\n",
          "fields": [
            {
              "name": "text",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "\"destription\""
            },
            {
              "name": "path",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "\"path\""
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_7f6e5d4c",
          "name": "Отправить видео",
          "type": "action",
          "color": "#8FBC8F",
          "code": "try:\n    with open({path}, 'rb') as video_file:\n        bot.send_video(chat_id=message.chat.id, video=video_file, caption={text}, parse_mode='HTML')\nexcept FileNotFoundError:\n    bot.send_message(message.chat.id, \"Видео не найдено\")\nexcept Exception as e:\n    bot.send_message(message.chat.id, f\"Ошибка отправки видео: {e}\")\n",
          "fields": [
            {
              "name": "text",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "\"destription\""
            },
            {
              "name": "path",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "\"path\""
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_8e9d0c1b",
          "name": "Отправить файл",
          "type": "action",
          "color": "#8FBC8F",
          "code": "try:\n    with open({path}, 'rb') as document_file:\n        bot.send_document(chat_id=message.chat.id, document=document_file, caption={text}, parse_mode='HTML')\nexcept FileNotFoundError:\n    bot.send_message(message.chat.id, \"Файл не найден\")\nexcept Exception as e:\n    bot.send_message(message.chat.id, f\"Ошибка отправки файла: {e}\")\n",
          "fields": [
            {
              "name": "text",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "\"destription\""
            },
            {
              "name": "path",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "\"path\""
            }
          ],
          "width": 180,
          "height": 80
        }
      ]
    },
    {
      "id": "category_dfb788e8",
      "name": "Telebot - Обработчик",
      "color": "#8FBC8F",
      "collapsed": true,
      "blocks": [
        {
          "id": "block_36c13e27",
          "name": "Обрабочик команды",
          "type": "condition",
          "color": "#8FBC8F",
          "code": "@bot.message_handler(commands=['{command}'])\ndef handle_command_{command}(message):\n",
          "fields": [
            {
              "name": "command",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "command"
            }
          ],
          "width": 180,
          "height": 80
        }
      ]
    },
    {
      "id": "category_c2950246",
      "name": "Telebot - Клавиатура",
      "color": "#8FBC8F",
      "collapsed": true,
      "blocks": [
        {
          "id": "block_5a25e02d",
          "name": "Инициализация callback слушателя",
          "type": "loop",
          "color": "#8FBC8F",
          "code": "@bot.callback_query_handler(func=lambda call: True)\ndef callback_worker(call):\n    message = call.message\n",
          "fields": [],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_66a5d5a9",
          "name": "Сравнить callback",
          "type": "condition",
          "color": "#8FBC8F",
          "code": "if call.data == \"{callback}\":\n",
          "fields": [
            {
              "name": "callback",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "callback"
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_c58c3125",
          "name": "Создать клавиатуру",
          "type": "action",
          "color": "#8FBC8F",
          "code": "{name} = types.InlineKeyboardMarkup(row_width=1)\n",
          "fields": [
            {
              "name": "name",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "name"
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_1b7997ab",
          "name": "Создать кнопку",
          "type": "action",
          "color": "#8FBC8F",
          "code": "{name} = types.InlineKeyboardButton(text={text}, callback_data=\"{data}\")\n",
          "fields": [
            {
              "name": "data",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "callback"
            },
            {
              "name": "text",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "\"text\""
            },
            {
              "name": "name",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "name"
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_fcee9e1b",
          "name": "Добавить кнопку в клавиатуру",
          "type": "action",
          "color": "#8FBC8F",
          "code": "{ke_n}.add({bu_n})\n",
          "fields": [
            {
              "name": "ke_n",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "keyboard name"
            },
            {
              "name": "bu_n",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "button name"
            }
          ],
          "width": 180,
          "height": 80
        },
        {
          "id": "block_c1a187d3",
          "name": "Отправить сообщение с клавиатурой",
          "type": "action",
          "color": "#8FBC8F",
          "code": "try:\n    bot.send_message(chat_id=message.chat.id, text={text}, reply_markup={keyb}, parse_mode='HTML')\nexcept Exception as e:\n    print(f\"Ошибка отправки сообщения с клавиатурой: {e}\")\n",
          "fields": [
            {
              "name": "text",
              "label": "",
              "type": "text",
              "required": true,
              "placeholder": "\"text\""
            },
            {
              "name": "keyb",
              "label": "",
              "type": "value",
              "required": true,
              "placeholder": "keyboard"
            }
          ],
          "width": 180,
          "height": 80
        }
      ]
    }
  ],
  "license": {
    "key": "TURTCD-42264216A2A2A008",
    "modId": "Telebot",
    "modName": "Telebot",
    "licensed": true
  }
}